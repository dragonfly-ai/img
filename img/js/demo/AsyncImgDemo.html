<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>img.dragonfly.ai Demo</title>
  <script type="text/javascript" src="../target/scala-2.12/img-fastopt.js"></script>
<script type="text/javascript">

</script>
</head>
<body style='background-color: #888888; color: #F0F0F0; font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;'>
<!-- canvas id="testCanvas01" width="800" height="800" style="position: absolute; top: 400px; left: 400px;"></canvas -->
<script type="text/javascript">
var ioc = null;
ai.dragonfly.distributed.Snowflake().ready(
  function(){
    var body = document.getElementsByTagName("body")[0];

    var idu = ai.dragonfly.img.ImgDOMUtils();

    var imgOpsClient = ImgOpsClient();
    console.log("Initialized ImgOpsClient()");
    ioc = imgOpsClient;

    var spriteHtmlElement = document.getElementById("aa");
    var logoImgHtmlElement = document.getElementById("dragonfly.ai-logo");
    var dragonflyPubDomImgHtmlElement = document.getElementById("dragonflyPubDom");

/*
    imgOpsClient.randomizeRGB(ai.dragonfly.img.Img(100, 100), function(responseImg){
      console.log(responseImg);
      var div = document.getElementById("randomizeRGB");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.flipHorizontal(idu.htmlImageElementToImg(logoImgHtmlElement), function(responseImg) {
      console.log("flipHorizontal response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("flipHorizontal");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.flipVertical(idu.htmlImageElementToImg(logoImgHtmlElement), function(responseImg) {
      console.log("flipVertical response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("flipVertical");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.rotate90Degrees(idu.htmlImageElementToImg(logoImgHtmlElement), false, function(responseImg) {
      console.log("rotate90Degrees response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("rotate90Degrees");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.rotate90Degrees(idu.htmlImageElementToImg(logoImgHtmlElement), true, function(responseImg1) {
      console.log("rotate90Degrees response img: " + responseImg1 + " " + responseImg1.width + "x" + responseImg1.height);
      var div = document.getElementById("rotate90Degrees");
      div.append(idu.toHtmlImage(responseImg1));
    });

    imgOpsClient.rotate180Degrees(idu.htmlImageElementToImg(logoImgHtmlElement), function(responseImg1) {
      console.log("rotate180Degrees response img: " + responseImg1 + " " + responseImg1.width + "x" + responseImg1.height);
      var div = document.getElementById("rotate180Degrees");
      div.append(idu.toHtmlImage(responseImg1));
    });

    imgOpsClient.overlay(
      idu.htmlImageElementToImg(logoImgHtmlElement), idu.htmlImageElementToImg(spriteHtmlElement),
      200, 200, 0, 0, 64, 64,
      function(responseImg){
      console.log("overlay response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("overlay");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.grayscaleAverageRGB(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), function(responseImg) {
      console.log("grayscaleAverageRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("grayscaleAverageRGB");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.grayscaleLABIntensity(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), function(responseImg) {
      console.log("grayscaleLABIntensity response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("grayscaleLABIntensity");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.equalizeRGB(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), function(responseImg) {
      console.log("equalizeRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("equalizeRGB");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.negative(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), function(responseImg) {
      console.log("negative response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("negative");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.thresholdRGB(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), 128, function(responseImg) {
      console.log("thresholdRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("thresholdRGB");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.thresholdLab(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), 128, function(responseImg) {
      console.log("thresholdLab response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("thresholdLab");
      div.append(idu.toHtmlImage(responseImg));
    });
*/
    imgOpsClient.scale(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), 400, 288, function(shrunkenImg){
      imgOpsClient.concisePalette(shrunkenImg, function(responseImg) {
      //imgOpsClient.concisePalette(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), function(responseImg) {
        console.log("concisePalette response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
        var div = document.getElementById("concisePalette");
        div.append(idu.toHtmlImage(responseImg));
      });
    });
/*
    imgOpsClient.brightness(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), 25, function(responseImg) {
      console.log("brightness response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("brightness");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.contrast(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), 25, function(responseImg) {
      console.log("contrast response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("contrast");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.epanechnikovBlurRGB(idu.htmlImageElementToImg(logoImgHtmlElement), 9, function(responseImg){
      console.log("epanechnikovBlurRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      //body.append();
      var div = document.getElementById("epanechnikovBlurRGB");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.uniformBlurRGB(idu.htmlImageElementToImg(logoImgHtmlElement), 9, function(responseImg){
      console.log("uniformBlurRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("uniformBlurRGB");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.gaussianBlurRGB(idu.htmlImageElementToImg(logoImgHtmlElement), 9, function(responseImg){
      console.log("gaussianBlurRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("gaussianBlurRGB");
      div.append(idu.toHtmlImage(responseImg));

      imgOpsClient.differenceMatte(idu.htmlImageElementToImg(logoImgHtmlElement), responseImg, function(responseImg1){
        console.log("differenceMatte response img: " + responseImg1 + " " + responseImg1.width + "x" + responseImg1.height);
        var div = document.getElementById("differenceMatte");
        div.append(idu.toHtmlImage(responseImg1));
      });
    });

    imgOpsClient.unsharpenMaskRGB(idu.htmlImageElementToImg(logoImgHtmlElement), 9, 1, 0, function(responseImg){
      console.log("unsharpenMask response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("unsharpenMask");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.unsharpenMaskLAB(idu.htmlImageElementToImg(logoImgHtmlElement), 9, 1, 0, function(responseImg){
      console.log("unsharpenMask response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("unsharpenMask");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.unsharpenMaskLAB(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), 9, 1, 0, function(responseImg){
      console.log("unsharpenMask response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("unsharpenMask");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.median(idu.htmlImageElementToImg(dragonflyPubDomImgHtmlElement), 3, function(responseImg){
      console.log("median response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("median");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.scale(idu.htmlImageElementToImg(logoImgHtmlElement), 1000, 1000, function(responseImg){
      console.log("uniform scale up response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleUp");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.scale(idu.htmlImageElementToImg(logoImgHtmlElement), 250, 1000, function(responseImg){
      console.log("scale stretch height and compress width response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleDownWidthUpHeight");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.scale(idu.htmlImageElementToImg(logoImgHtmlElement), 1000, 250, function(responseImg){
      console.log("scale compress height and stretch width response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleUpWidthDownHeight");
      div.append(idu.toHtmlImage(responseImg));
    });

    imgOpsClient.scale(idu.htmlImageElementToImg(logoImgHtmlElement), 50, 50, function(responseImg){
      console.log("uniform scale down response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleDown");
      div.append(idu.toHtmlImage(responseImg));

      for (var theta = 15; theta <= 360; theta += 15) {
        imgOpsClient.rotateDegrees(responseImg.clone(), theta, function(responseImg1) {
          console.log("rotateDegrees response img: " + responseImg1 + " " + responseImg1.width + "x" + responseImg1.height);
          var div = document.getElementById("rotateDegrees");
          div.append(idu.toHtmlImage(responseImg1));
        });
      }

      for (var theta = Math.PI / 12; theta <= 2 * Math.PI; theta += Math.PI / 12) {
        imgOpsClient.rotateRadians(responseImg.clone(), theta, function(responseImg2) {
          console.log("rotateRadians response img: " + responseImg2 + " " + responseImg2.width + "x" + responseImg2.height);
          var div = document.getElementById("rotateRadians");
          div.append(idu.toHtmlImage(responseImg2));
        });
      }
    });
*/
  }
);
</script>

<img id="dragonfly.ai-logo" src="./logo.png" style="position: absolute; top:-5000px; left:-5000px" />
<img id="aa" src="./aa.png" style="position: absolute; top:-5000px; left:-5000px" />
<img id="dragonflyPubDom" src="./dragonflyPubDom.jpg" style="position: absolute; top:-5000px; left:-5000px" />

<div id="randomizeRGB">randomizeRGB: <br /></div>
<div id="flipHorizontal">flipHorizontal: <br /></div>
<div id="flipVertical">flipVertical: <br /></div>
<div id="rotate90Degrees">rotate90Degrees: <br /></div>
<div id="rotate180Degrees">rotate180Degrees: <br /></div>
<div id="rotateDegrees">rotateDegrees: <br /></div>
<div id="rotateRadians">rotateRadians: <br /></div>
<div id="overlay">overlay: <br /></div>
<div id="grayscaleAverageRGB">grayscaleAverageRGB: <br /></div>
<div id="grayscaleLABIntensity">grayscaleLABIntensity: <br /></div>
<div id="negative">negative: <br /></div>
<div id="equalizeRGB">equalizeRGB: <br /></div>
<div id="thresholdRGB">thresholdRGB: <br /></div>
<div id="thresholdLab">thresholdLab: <br /></div>
<div id="brightness">brightness: <br /></div>
<div id="contrast">contrast: <br /></div>
<div id="epanechnikovBlurRGB">epanechnikovBlurRGB: <br /></div>
<div id="uniformBlurRGB">uniformBlurRGB: <br /></div>
<div id="gaussianBlurRGB">gaussianBlurRGB: <br /></div>
<div id="unsharpenMask">unsharpenMask: <br /></div>
<div id="median">median: <br /></div>
<div id="differenceMatte">differenceMatte: <br /></div>
<div id="concisePalette">concisePalette: <br /></div>
<div id="scaleUp">scale up: <br /></div>
<div id="scaleDown">scale down: <br /></div>
<div id="scaleUpWidthDownHeight">scale up width down height: <br /></div>
<div id="scaleDownWidthUpHeight">scale down width up height: <br /></div>

</body>
</html>