<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>img.dragonfly.ai Demo</title>
  <script type="text/javascript" src="../target/scala-2.12/img-fastopt.js"></script>
<script type="text/javascript">

</script>
</head>
<body style='background-color: #888888; color: #F0F0F0; font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;'>
<!-- canvas id="testCanvas01" width="800" height="800" style="position: absolute; top: 400px; left: 400px;"></canvas -->
<script type="text/javascript">
var imgAsncLogo = null;
var imgAsncDragonfly = null;
var imgAsncSprite = null;

ai.dragonfly.distributed.Snowflake().ready(
  function(){
    var body = document.getElementsByTagName("body")[0];

    var idu = ai.dragonfly.img.ImgDOMUtils();

    var imgOpsClient = ImgOpsClient();
    console.log("Initialized ImgOpsClient()");

    var spriteHtmlElement = document.getElementById("aa");
    var logoImgHtmlElement = document.getElementById("dragonfly.ai-logo");
    var dragonflyPubDomImgHtmlElement = document.getElementById("dragonflyPubDom");

    imgAsncLogo = idu.htmlImageElementToImgAsynch(logoImgHtmlElement);
    imgAsncDragonfly = idu.htmlImageElementToImgAsynch(dragonflyPubDomImgHtmlElement);
    imgAsncSprite = idu.htmlImageElementToImgAsynch(spriteHtmlElement);

// Demo Features:
/*
    imgOpsClient.randomizeRGB(500, 400, function(responseImg){
      console.log("randomizeRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("randomizeRGB");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.randomizeLab(500, 400, function(responseImg){
      console.log("randomizeLab response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("randomizeLab");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.flipHorizontal(imgAsncDragonfly, function(responseImg) {
      console.log("flipHorizontal response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("flipHorizontal");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });


    imgOpsClient.flipVertical(imgAsncDragonfly, function(responseImg) {
      console.log("flipVertical response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("flipVertical");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.rotate90Degrees(imgAsncDragonfly, false, function(responseImg) {
      console.log("rotate90Degrees response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("rotate90Degrees");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.rotate180Degrees(imgAsncDragonfly, function(responseImg) {
      console.log("rotate180Degrees response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("rotate180Degrees");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });
*/

    imgOpsClient.grayscaleAverageRGB(imgAsncDragonfly.copy(), function(responseImg) {
      //console.log("grayscaleAverageRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("grayscaleAverageRGB");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.grayscaleLABIntensity(imgAsncDragonfly.copy(), function(responseImg) {
      console.log("grayscaleLABIntensity response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("grayscaleLABIntensity");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });
/*
    imgOpsClient.equalizeRGB(imgAsncDragonfly.copy(), function(responseImg) {
      console.log("equalizeRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("equalizeRGB");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.negative(imgAsncDragonfly.copy(), function(responseImg) {
      console.log("negative response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("negative");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.thresholdRGB(imgAsncDragonfly.copy(), 128, function(responseImg) {
      console.log("thresholdRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("thresholdRGB");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.thresholdLab(imgAsncDragonfly.copy(), 128, function(responseImg) {
      console.log("thresholdLab response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("thresholdLab");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.concisePalette(imgAsncDragonfly.copy(), function(responsePalette) {
      console.log("concisePalette response: " + responsePalette.toString());
      var div = document.getElementById("concisePalette");
      div.append(responsePalette.toString());

      imgOpsClient.projectToPalette(responsePalette, imgAsncDragonfly.copy(), function(responseImg) {
        console.log("projectToPalette response: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
        var div = document.getElementById("projectToPalette");
        idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
      });
    });


    imgOpsClient.brightness(imgAsncDragonfly.copy(), 25, function(responseImg) {
      console.log("brightness response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("brightness");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.contrast(imgAsncDragonfly.copy(), 25, function(responseImg) {
      console.log("contrast response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("contrast");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.epanechnikovBlurRGB(imgAsncDragonfly.copy(), 9, function(responseImg){
      console.log("epanechnikovBlurRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("epanechnikovBlurRGB");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.uniformBlurRGB(imgAsncDragonfly.copy(), 9, function(responseImg){
      console.log("uniformBlurRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("uniformBlurRGB");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });


    imgOpsClient.gaussianBlurRGB(imgAsncDragonfly.copy(), 9, function(responseImg){
      console.log("gaussianBlurRGB response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("gaussianBlurRGB");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );

      imgOpsClient.differenceMatte(imgAsncDragonfly, responseImg, function(responseImg1){
        console.log("differenceMatte response img: " + responseImg1 + " " + responseImg1.width + "x" + responseImg1.height);
        var div = document.getElementById("differenceMatte");
        idu.toHtmlImage( responseImg1, function(elem) { div.append(elem); } );
      });

    });

    imgOpsClient.unsharpenMaskRGB(imgAsncDragonfly.copy(), 9, 1, 0, function(responseImg){
      console.log("unsharpenMask response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("unsharpenMask");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.unsharpenMaskLAB(imgAsncDragonfly.copy(), 9, 1, 0, function(responseImg){
      console.log("unsharpenMask response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("unsharpenMask");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.unsharpenMaskLAB(imgAsncDragonfly.copy(), 9, 1, 0, function(responseImg){
      console.log("unsharpenMask response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("unsharpenMask");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.median(imgAsncDragonfly, 3, function(responseImg){
      console.log("median response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("median");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });


    imgOpsClient.scale(imgAsncLogo, 1000, 1000, function(responseImg){
      console.log("uniform scale up response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleUp");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.scale(imgAsncLogo, 250, 1000, function(responseImg){
      console.log("scale stretch height and compress width response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleDownWidthUpHeight");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });

    imgOpsClient.scale(imgAsncLogo, 1000, 250, function(responseImg){
      console.log("scale compress height and stretch width response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleUpWidthDownHeight");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
    });


    imgOpsClient.scale(imgAsncLogo, 50, 50, function(responseImg){
      console.log("uniform scale down response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
      var div = document.getElementById("scaleDown");
      idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );

      for (var theta = 15; theta <= 360; theta += 15) {
        imgOpsClient.rotateDegrees(responseImg, theta, function(responseImg1) {
          console.log("rotateDegrees response img: " + responseImg1 + " " + responseImg1.width + "x" + responseImg1.height);
          var div = document.getElementById("rotateDegrees");
          idu.toHtmlImage( responseImg1, function(elem) { div.append(elem); } );
        });
      }

      for (var theta = Math.PI / 12; theta <= 2 * Math.PI; theta += Math.PI / 12) {
        imgOpsClient.rotateRadians(responseImg, theta, function(responseImg2) {
          console.log("rotateRadians response img: " + responseImg2 + " " + responseImg2.width + "x" + responseImg2.height);
          var div = document.getElementById("rotateRadians");
          idu.toHtmlImage( responseImg2, function(elem) { div.append(elem); } );
        });
      }
    });

    imgOpsClient.overlay(
      imgAsncLogo, imgAsncSprite,
      200, 200, 0, 0,
      64, 64,
      function(responseImg){
        console.log("overlay response img: " + responseImg + " " + responseImg.width + "x" + responseImg.height);
        var div = document.getElementById("overlay");
        idu.toHtmlImage( responseImg, function(elem) { div.append(elem); } );
      }
    );
*/
  }
);
</script>

<img id="dragonfly.ai-logo" src="./logo.png" style="position: absolute; top:-5000px; left:-5000px" />
<img id="aa" src="./aa.png" style="position: absolute; top:-5000px; left:-5000px" />
<img id="dragonflyPubDom" src="./dragonflyPubDom.jpg" style="position: absolute; top:-5000px; left:-5000px" />

<div id="randomizeRGB">randomizeRGB: <br /></div>
<div id="randomizeLab">randomizeLab: <br /></div>
<div id="flipHorizontal">flipHorizontal: <br /></div>
<div id="flipVertical">flipVertical: <br /></div>
<div id="rotate90Degrees">rotate90Degrees: <br /></div>
<div id="rotate180Degrees">rotate180Degrees: <br /></div>
<div id="rotateDegrees">rotateDegrees: <br /></div>
<div id="rotateRadians">rotateRadians: <br /></div>
<div id="overlay">overlay: <br /></div>
<div id="grayscaleAverageRGB">grayscaleAverageRGB: <br /></div>
<div id="grayscaleLABIntensity">grayscaleLABIntensity: <br /></div>
<div id="negative">negative: <br /></div>
<div id="equalizeRGB">equalizeRGB: <br /></div>
<div id="thresholdRGB">thresholdRGB: <br /></div>
<div id="thresholdLab">thresholdLab: <br /></div>
<div id="brightness">brightness: <br /></div>
<div id="contrast">contrast: <br /></div>
<div id="epanechnikovBlurRGB">epanechnikovBlurRGB: <br /></div>
<div id="uniformBlurRGB">uniformBlurRGB: <br /></div>
<div id="gaussianBlurRGB">gaussianBlurRGB: <br /></div>
<div id="unsharpenMask">unsharpenMask: <br /></div>
<div id="median">median: <br /></div>
<div id="differenceMatte">differenceMatte: <br /></div>
<div id="concisePalette">concisePalette: <br /></div>
<div id="projectToPalette">projectToPalette: <br /></div>
<div id="scaleUp">scale up: <br /></div>
<div id="scaleDown">scale down: <br /></div>
<div id="scaleUpWidthDownHeight">scale up width down height: <br /></div>
<div id="scaleDownWidthUpHeight">scale down width up height: <br /></div>

</body>
</html>